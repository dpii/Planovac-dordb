<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
<link rel="stylesheet" type="text/css" href="default.css">
<title>DODRB 2013 - Planovac - Nachazel, Dupal</title>
</head>
<body>
<h3>DORDB 2013 - Nachazel, Dupal - Planovac</h3>
<div id="main">
<h2>1. Obrázek s modelem (E-R diagram)</h2>
<p>
 musí obsahovat minimálně 4 entity, lze použít model z vlastních předchozích 
semestrálních prací apod. Doporučena jsou originální zadání (nikoliv různé knihovny, 
databáze CD/DVD, autobazary, apod.)



</p>
<img src="images/er.jpg" alt="ER Diagram">

<h2>2. Slovní popis dodatečných integritních omezení</h2>
<h3>2.1 Triviální omezení</h3>
<ul>
<li> Konec události musí být později než její začátek</li>
<li> Skupina musí mít ID vedoucího</li>
<li> Skupinové heslo musí mít alespoň 5 znaků</li>
<li> Uživatelské heslo musí mít alespoň 5 znaků </li>
</ul>

<h3>2.2 Netriviální omezení</h3>
<ul>
<li> Pripominka/Udalost - cas_pred_udalosti nemůže být později než je začátek události</li>
<li> Skupina nebude mít více jak 150 členů </li>
</ul>

<p></p>

<h2>3. Návrh API rozhraní „business logiky“ pro dva procesy</h2>
<p>
<b>Procedura:</b> nastavUpozorneniUdalostiProSkupinu <br />
<b>Parametry:</b> idUdalosti, cas_pred_udalosti, opakovani_po_intervalu <br />
<b>Popis:</b> Kdyz napr. vedouci skupiny vytvori udalost pro vsechny cleny skupiny, tato procedura nastavi i pripominku na tuto udalost. Vytvori ji kazdemu uzivateli v pozadovanem predstihu a prip. opakovani, kazdy uzivatel si ji pak dale muze zmenit. <br />

<br />

<b>Procedura:</b> najdiUdalost <br />
<b>Parametry:</b> zacatek, konec <br />
<b>Popis:</b> Vyhleda udalosti, které se nacházejí v požadovaném intervalu. Např. vedoucí skupiny hledá vhodný termin. <br />
</p>

<h2>4. Návrh pěti slovně formulovaných dotazů nad schématem</h2>
<p>
<ol>
<li>Určí počet uživatelů, kteří mají v daný čas již vytvořenou událost v rámci skupiny</li>
<li>Vypočte průměrný počet přípomínek uživatelů.</li>
<li>Určí počet připomínek na danou událost</li>
<li>Zjistí počet vedoucích skupin</li>
<li>Vyhledá nejvyýše čtyři posledni události pro každého uživatele.</li>

</ol>



</p>

<h2>5. Skript, který vytvoří databázové schéma odpovídající E-R diagramu</h2>
<a href="sql/5_schema.sql">5_schema.sql</a>

<h2>6. Skript, který vytvoří v databázovém schématu dodatečná integritní omezení</h2>
<a href="sql/6_constraints.sql">6_constraints.sql</a>
<p>



</p>

<h2>7. Skript, který naplní tabulky testovacími daty</h2>
<p>
<a href="sql/7_data_uzivatel.sql">7_data_uzivatel.sql</a><br />
<a href="sql/7_data_skupina.sql">7_data_skupina.sql</a><br />
<a href="sql/7_data_udalost.sql">7_data_udalost.sql</a><br />
<a href="sql/7_data_skupiny_uzivatelu.sql">7_data_skupiny_uzivatelu.sql</a><br />
<a href="sql/7_data_udalosti_uzivatelu.sql">7_data_udalosti_uzivatelu.sql</a><br />
<a href="sql/7_data_adresa.sql">7_data_adresa.sql</a><br />

</p>

<h2>8. Skript (včetně výstupu spool), který provede postupně všechny navržené dotazy (viz výše)</h2>
<p>
<a href="sql/8_queries.sql">8_queries.sql</a>


</p>

<h2>9. Skript, který se pokusí porušit postupně všechna dodatečná integritní omezení + výstup spool 
z provádění tohoto skriptu (budou vidět chyby při porušení I.O.)</h2>
<p>

<a href="sql/9_constraints_check.sql">9_constraints_check.sql</a>

</p>


<h2>10. Skript pro vytvoření balíku (package) a procedur „business logiky“ (viz výše)</h2>
<p>

<a href="sql/10_package.sql">10_package.sql</a><br />
<a href="sql/10_business_logic_procedures.sql">10_business_logic_procedures.sql</a><br />

</p>

<h2>11. Testovací skript (včetně výstupu spool obdrženého po spuštění) pro obě procedury, včetně 
souvisejících dotazů, které ověří, že každá procedura provedla to co měla</h2>
<p>

<a href="sql/11_bl_test.sql">11_bl_test.sq</a><br />

</p>


<h2>12. Skript, který doplní do zvolené tabulky schématu sloupec, který bude obsahovat odvozené 
hodnoty (průměrný plat zaměstnance v rámci oddělní apod.) – tyto hodnoty budou 
automaticky aktualizovány pomocí triggerů</h2>
<p>

<a href="sql/12_deriv_column.sql">12_deriv_column.sql</a><br />


</p>

<h2>13. Skript, který vytvoří úložiště ještě jednou v „objektové“ podobě</h2>
<a href="sql/13_object_schema.sql">13_object_schema.sql</a><br />
<p>



</p>

<h2>14. Skript, který provede navržených pět dotazů znovu, tentokrát nad objektovými tabulkami</h2>
<p>

<a href="sql/14_object_queries.sql">13_object_queries.sql</a><br />


</p>

<h2>15. Navrhněte slovně fakta a dimenze pro datový sklad vycházející z vaší databáze. </h2>
<p>



</p>





</div>

<br />
<a href="http://www.youtube.com/watch?v=oHg5SJYRHA0" target="_blank">UHK FIM letní semestr 2013</a>
</body>
</html>